*****Install and Configure Zabbix-Server and Agent on RHEL-9 Created by Dinesh Patel*****
On Server Site	

Step 1: ping google and redhat on VM
        #ping www.google.com
        #ping www.redhat.com

Step 2: Take Snapshot
        Name:-Before_install_zabbix_server

Step 3:- Set Hostname
         #hostnamectl set-hostname zabbixsrv.example.com

Step 4:- Mount CD/DVD to /mnt   
         #mount /dev/cdrom /mnt
         #yum clean all
         #yum repolist all

Note:-to enabled file based repo

Step 5:- Install Zabbix Repository
        #rpm -Uvh https://repo.zabbix.com/zabbix/7.0/rhel/9/x86_64/zabbix-release-latest.el9.noarch.rpm
		
Step 6:- Run this command to update your systemâ€™s repository:
        #dnf clean all
		
Step 7:- Install Zabbix Server, Frontend, and Agent
        #dnf install zabbix-server-mysql zabbix-sql-scripts zabbix-web-mysql zabbix-apache-conf zabbix-agent -y
		
Step 8:- Install and Configure MySQL Database
        #dnf  install  -y mysql-server
		#systemctl enable --now mysqld
		#mysql_secure_installation
		
Step 9:- Create a database and user for Zabbix: Run the following command to log into MySQL.
        #mysql -u root -p
		CREATE DATABASE zabbix CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;
		CREATE USER 'zabbix'@'localhost' IDENTIFIED BY 'your_actual_password';
		GRANT ALL PRIVILEGES ON zabbix.* TO 'zabbix'@'localhost';
		FLUSH PRIVILEGES;
		SET GLOBAL log_bin_trust_function_creators = 1;
        EXIT;
		
Step 10:- Import Initial Schema and Data
        #zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql -u zabbix -p zabbix
		
Step 11:- Configure Zabbix Server
        #vim /etc/zabbix/zabbix_server.conf
		
Update the following parameters:

DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword=your_actual_password
NodeAddress=localhost:10051

Step 12:- Start and Enable Apache to apply the changes:
        #systemctl enable --now httpd
		
Step 13:- Start Zabbix Server and Agent
        #systemctl enable --now zabbix-server zabbix-agent
		
Step 14:- Configure Firewall
        #firewall-cmd --permanent --add-port=10051/tcp
		#firewall-cmd --permanent --add-service=http
		#firewall-cmd --reload
		#firewall-cmd --list-all
		
Step 15:- Configure SELinux for the Zabbix Frontend
   If SELinux is enabled (it should be), 
   enter the following command to allow the Zabbix frontend to connect to the server:
       #setsebool -P httpd_can_network_connect on
	   
Step 16:- Access Zabbix Web Interface
Open a web browser and navigate to http://your_server_ip/zabbix.
Finally, log into the Zabbix frontend using the default credentials:
Username: Admin
Password: zabbix

=================================================================================================

Now,Install and Configure Zabbix-Agent on RHEL-9
Login to zabbix-agent (Or) Node
Step 1: ping google and redhat on VM
        #ping www.google.com
        #ping www.redhat.com

Step 2: Take Snapshot
        Name:-Before_install_zabbix_agent

Step 3:- 
Set Hostname
         #hostnamectl set-hostname node1.example.com

Step 4:- Mount CD/DVD to /mnt   
         #mount /dev/cdrom /mnt
         #yum clean all
         #yum repolist all

Note:-to enabled file based repo

Step 5:- Install Zabbix Repository
        #rpm -Uvh https://repo.zabbix.com/zabbix/7.0/rhel/9/x86_64/zabbix-release-latest-7.0.el9.noarch.rpm
		#dnf clean all
		
Step 6:- install zabbix-agent 
        #dnf install -y zabbix-agent
		
Step 7:- Configure Zabbix Server
        #vim  /etc/zabbix/zabbix_agentd.conf
		
Update the following parameters:
Server=<zabbix server ip>
ServerActive=<zabbix server ip>
Hostname=node1.example.com

Step 8:- restart the zabbix-agent service
        #systemctl restart zabbix-agent.service

Step 9:- Start Zabbix  Agent
        #systemctl enable --now  zabbix-agent
		
Step 10:- Configure Firewall
        #firewall-cmd --permanent --add-port=10050/tcp
		#firewall-cmd --reload
		#firewall-cmd --list-all
		
==========================================================================================================